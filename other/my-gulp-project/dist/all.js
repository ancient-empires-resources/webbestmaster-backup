(function(){var b=require("fs"),c=b.readFileSync("./www/index.html","utf-8"),h=c.match(/src="js\/\S+"/g),d=b.readFileSync("./www/css/main.css","utf-8"),f="",e=c,g=function(a){b.existsSync(a)&&(b.readdirSync(a).forEach(function(c,e){var d=a+"/"+c;b.lstatSync(d).isDirectory()?g(d):b.unlinkSync(d)}),b.rmdirSync(a))};h.forEach(function(a){e=e.replace("<script "+a+' type="text/javascript">\x3c/script>',"scriptRemoved");a="./www/"+a.replace(/^src="|"$/g,"");f+=b.readFileSync(a,"utf-8");b.unlink(a)});e=
e.replace("scriptRemoved",'<script src="js/all.js" type="text/javascript" async>\x3c/script>').replace(/scriptRemoved[\s\S]+scriptRemoved/g," ").replace(/\/\*[\s\S]*?\*\/|\x3c!--[\s\S]*?--\x3e/g," ").replace(/>\s+</g,"> <").replace(/\s+/g," ");g("./www/js");b.mkdirSync("./www/js");b.appendFile("./www/js/all.js",f,function(a){if(a)throw a;console.log("ALL JS")});b.writeFile("./www/index.html",e,function(a){if(a)throw a;console.log("INDEX HTML")});d=d.replace(/\/\*[\s\S]*?\*\/|\x3c!--[\s\S]*?--\x3e/g,
"");c=d.trim().replace(/\s/g,"").replace(/@importurl\(([\s\S]+?)\)/g,"$1").split(";").filter(function(a){return a});c=c.map(function(a){var c=b.readFileSync("./www/css/"+a,"utf-8");b.unlink("./www/css/"+a);return c.replace(/\/\*[\s\S]*?\*\/|\x3c!--[\s\S]*?--\x3e/g,"").replace(/\s+/g," ")});b.writeFile("./www/css/main.css",c.join(" "),function(a){if(a)throw a;console.log("MAIN CSS")})})();
