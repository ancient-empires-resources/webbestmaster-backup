(function (win) {

	"use strict";
	/*global window, document, Image */
	/*global APP */

	win.APP = win.APP || {};

	APP.map = {
		terrainTypes: ['green', 'forest', 'hill', 'stone', 'road', 'water', 'bridge-vertical', 'bridge-horizontal'],
		buildingsTypes: ['farm', 'castle'],
		tile: {
			'size': 72,
			'angle': {
				'1': {
					src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoyNUY5NzNEMTRGN0RFNDExODMwQjgwRTgwQUU1NEYwQyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozNDE3Rjc4NzdENTAxMUU0QjgyNUYzM0E5NTM2MEIyNSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozNDE3Rjc4NjdENTAxMUU0QjgyNUYzM0E5NTM2MEIyNSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyNUY5NzNEMTRGN0RFNDExODMwQjgwRTgwQUU1NEYwQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyNUY5NzNEMTRGN0RFNDExODMwQjgwRTgwQUU1NEYwQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpiOcJEAAAAPUExURXDqIQxeAlaoFkSVCmq7IUFwOgsAAAB+SURBVHjatJRRDoAwCEMRuP+ZRRsrm9tf7ReDl6U0y+xYKSL60dQQuvHIzNiRQzxjlplV5C0UQgjdEqCJ+APCmLOSuw+0DmLQHIOg0esKNUQH3lR9FEKo7083EyqE6Knv7KO0UImvZ5u4Dvqm0BN/35MIgidmzR+BtA46BRgAEj0L46yvUk8AAAAASUVORK5CYII='
				},
				'2': {
					src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAAAkCAMAAAAdBYxUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQ0NzA3OEFDN0Q1MDExRTRCMkYwRTEwNjFEQzZEODhFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQ0NzA3OEFEN0Q1MDExRTRCMkYwRTEwNjFEQzZEODhFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDQ3MDc4QUE3RDUwMTFFNEIyRjBFMTA2MURDNkQ4OEUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDQ3MDc4QUI3RDUwMTFFNEIyRjBFMTA2MURDNkQ4OEUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6IGjH5AAAAD1BMVEUMXgJw6iFElQpquyFWqBar28wGAAAAtUlEQVR42sySSxZCMQhD6Wf/axYbjTygjpMR0HA5B2pmNo/siEGbpgrivfcvFwONMeZXiGniE+dFg8fwaII8X2vhGcE6QjCOPEAbK0hjIAhKJlJuxFhB6ueXBUV5NZqoWokt78+tB8J/3U/RxNfWFv2CIJqqr61wL/MpQVA8Yboom9Om2mUJgm49tzO3gz/nFwO1e6k/uxLTVEFQXQ2hqMRJf9anCUo7IjctjjMSGnQ90EuAAQAtJxrvwnYogwAAAABJRU5ErkJggg=='
				},
				'3': {
					src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjRGODMxQjJEN0Q1MDExRTQ5NjJGOTUxQ0RDQjg3NkZEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjRGODMxQjJFN0Q1MDExRTQ5NjJGOTUxQ0RDQjg3NkZEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NEY4MzFCMkI3RDUwMTFFNDk2MkY5NTFDRENCODc2RkQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NEY4MzFCMkM3RDUwMTFFNDk2MkY5NTFDRENCODc2RkQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5IWxa9AAAAD1BMVEVw6iEMXgJElQpWqBZquyFwkNdqAAAAgklEQVR42qySQRKAIAwDa+n/3ywQjJHRk8mpKctMWohDlJmvdfggmJyKuG2viRqhqkKrFzEFywt2CK2aIk077rih+tBajQ9qraFqIiXGCqwQ1D3OACGoHWKgvMRY93v7oG1sZuIWHsF9kNL8Yev7+iDm0DfW+b2QHujw0B78L3QKMAAe8AvRTCUbWQAAAABJRU5ErkJggg=='
				},
				'4': {
					src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAABICAMAAACp6KeLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjVDOTVCM0RFN0Q1MDExRTRCNkUyQjgwNjBBNkM0RDQwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjVDOTVCM0RGN0Q1MDExRTRCNkUyQjgwNjBBNkM0RDQwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NUM5NUIzREM3RDUwMTFFNEI2RTJCODA2MEE2QzRENDAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NUM5NUIzREQ3RDUwMTFFNEI2RTJCODA2MEE2QzRENDAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5y8pPXAAAAD1BMVEUMXgJw6iFElQpquyFWqBar28wGAAAA00lEQVR42qyVUQ7DIAxDC+z+Z142q14W0k6anj9aJF5V40A45pxjjLVWDPQMPU6ttw4UEidUEyJMg1BInH6fIQuHYkKeRPgzDUCorD/H/fHEQfZkQ65rY5yAQooglK18FZiDcgrZmVEWkqe85iZxCCqG+sQ5qESwH85XL6ChnPU8ZZqF9hrXTodCJQLb8gCH2o37oxf8Be1HZSbh0M1+8mcslFO4zImD9gKXAoDQ1catFzUElQjuGisBxStfGH1j5SCpXFH9pUhAubWZqI0Vg54CDAD6bht/q+odugAAAABJRU5ErkJggg=='
				},
				'6': {
					src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAABICAMAAACp6KeLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjZBODQ1N0U3N0Q1MDExRTQ4RjEwRkU2OUIwODRDRUMyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjZBODQ1N0U4N0Q1MDExRTQ4RjEwRkU2OUIwODRDRUMyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NkE4NDU3RTU3RDUwMTFFNDhGMTBGRTY5QjA4NENFQzIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NkE4NDU3RTY3RDUwMTFFNDhGMTBGRTY5QjA4NENFQzIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5uVAwDAAAAD1BMVEUMXgJw6iFElQpquyFWqBar28wGAAAAzklEQVR42rSVQRKAIAwDUfn/m0U7hIgtjhJzYuwealpC2qpyzuupXLWcKoekg/CplEHboXxJph8glkHW04HqILaAD40o0kH3huDFyIIJqJur35MOigbsjGUaQkNrFaDmgg7qduhhwDootFsKcRDc+7vsuALiApdDn6YhtDUKDB3k3hbTw+X8BLG/ptACBcSXhB8Mv/E5CAVkAastnQiC11zo74wUcvfJLGg9iaDxGyyHomDF/49y/D0UBSuW+CcojLkofT9BbrB20kG7AAMAoIcbx79St0IAAAAASUVORK5CYII='
				},
				'7': {
					src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjc2NjQ1RjhBN0Q1MDExRTQ5RDRDQTcxOTQyRjVBNDExIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjc2NjQ1RjhCN0Q1MDExRTQ5RDRDQTcxOTQyRjVBNDExIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzY2NDVGODg3RDUwMTFFNDlENENBNzE5NDJGNUE0MTEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzY2NDVGODk3RDUwMTFFNDlENENBNzE5NDJGNUE0MTEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6Bl7pYAAAAD1BMVEVw6iEMXgJElQpWqBZquyFwkNdqAAAAfElEQVR42qySQRKAIAwDsfj/N1uJxgocNwcmrcsQiu0YOv/qvWuVGgpFRBuqH7IpNMVCyrRym+AElMdPl7fHofX+8coehJzJnAIJmoNDkKdQB+1kIFSJVQrKQnJfq5Q4pN/Xz1zfWyUOpctVLW/QaJ4ShRxr6+/9GHQJMABlSwvRNq6gZgAAAABJRU5ErkJggg=='
				},
				'8': {
					src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAAAkCAMAAAAdBYxUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjgxQTUzRUE5N0Q1MDExRTQ4OEUwRDFDNTU2QkM2NEQ3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjgxQTUzRUFBN0Q1MDExRTQ4OEUwRDFDNTU2QkM2NEQ3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ODFBNTNFQTc3RDUwMTFFNDg4RTBEMUM1NTZCQzY0RDciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ODFBNTNFQTg3RDUwMTFFNDg4RTBEMUM1NTZCQzY0RDciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5wLunbAAAAD1BMVEUMXgJw6iFElQpquyFWqBar28wGAAAAq0lEQVR42sxUQRKEMAyy0f+/2a5sMUNSz3BwKEvIiJ09IuJaOBdEyWSHwy+oVeNBS3Y7DINi4foE66t+26DqjoTamlwC6oZB9bVpPRM4JiK5YRBnPm5A3sEe+7LNgup/za6a1vN2ZBYkZzjGGKJXRZZ5Bs0K4KN7PMgRrcKgyQ2D8GknI2nn8zKYhRgGTeAMgE8RT/4ERQyY/6dYBtHKeUKOooD/rrVj0C3AAAvpGyXExIq7AAAAAElFTkSuQmCC'
				},
				'9': {
					src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhDNTJCNTNGN0Q1MDExRTRBMENBRThFMEU0NDYwMDI0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjhDNTJCNTQwN0Q1MDExRTRBMENBRThFMEU0NDYwMDI0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OEM1MkI1M0Q3RDUwMTFFNEEwQ0FFOEUwRTQ0NjAwMjQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OEM1MkI1M0U3RDUwMTFFNEEwQ0FFOEUwRTQ0NjAwMjQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6Cmrt4AAAAD1BMVEVw6iFWqBYMXgJElQpquyGV5mojAAAAfElEQVR42qySSxLAIAxCE+P9z9xWphTtZ1PYyOhzRDQysw+lqJ+qqtZaWKEaUiiGQNghTQDtXjkvxEws4quCfxAXEEXFWEaIXWuOtQIr9Pafrgf2QTi+3zRlckPkdMP0LD7oGCJ09qECEwSHH8w7w8N4oSZiiMX7oE2AAQBYBAwHLgRXcwAAAABJRU5ErkJggg=='
				}
			},
			'green': {
				onGreen: true,
				level: 10,
				src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIAgMAAAAog1vUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJUExURUSVClaoFmq7ISLnQDUAAADeSURBVDjL7dKxjQQhEETRmpUIgSQuCkIYg49BCESxSeCPg7RTUZ7BjnlSB3BYrWcUDd366EfKdNtTCUmKEUCfNQHFCyBIH4k+ec6OjxAUr/K6ZE8v6A6SJKUn6dSx4yKUgOFLVRmAEaQqAc+zi6QgeWFPKEpldxMkQM/1XtgOkj139wD9rUSQqkSfNQ2v8h1SjJonp14LGM2uykE6wJ50N383I0gAlOPcExp3d5Cez6LZuw4S4EtKVOUbqnKQ9t43+6bYbnaQ6O/dxMHwlatykNoe7eK1CztI/0v+N/0ChJmxwPOISbcAAAAASUVORK5CYII='
			},
			'forest': {
				onGreen: true,
				level: 10,
				src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAeUExURf///weMBgxeAh18BS+aCUSVClaoFmq7IW3SIXDqISejtM0AAAABdFJOUwBA5thmAAABgElEQVRIx92WsUoDQRCG11MhdreK/TkRbNUVtQzegmeX5l7A4h5AhNVOVHDsVATZt/Wf3SsSE7SZS+EUS8h9B/98O7uJMQtFlfm7tKCCwg2tEuLHlUAFoXna98wsFgoaFMJjf0HuxJsRZ3qJekWoMvGDHOq0667JN4x3hoIK8lcxfnpJ1rBIH/HCTmtCZiuiAHVdR2PHzz6+23kLahAdhJgKaSBBktXupwItCP17z68RkyQWiPzEhDvmlzCTSQ9as9Lzk4tfATlQ2GNsANS7Y1KH7DaF29Rz7fBBMtUOcywu9qw6JH4nBoHQf3wzEqtKCh7Eji2VIWRyZ4mIMWey1sI+FIiOQ1Uo6UaJgsuAFYMrFrys+L6dqkJFum42fObceR8lv4lw/cTpQXgG3XI4obthvCDEkbW7bQqkCiUFIQSclnAfcd3I9QrC2pmTqQetOxyJfCAxRjJMYzdPqEKYp52ekzWLLs1wECwIlwvNl0t/ffWgXJut1PT3fwR60D+sb4hDaMSj7jU1AAAAAElFTkSuQmCC'
			},
			'hill': {
				onGreen: true,
				level: 10,
				src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAYUExURf///weMBgxeAkSVClaoFmq7IXDqIYnUMrCy4UEAAAABdFJOUwBA5thmAAAAyElEQVRIx+2TwQrCMAxAoyheF/9gu3hVg3fBfoDIwv5gXgWZ+X2Ttg6HeBDak32UXvYKj6wFKBR+B9dNpMbckhk1cuDyxUsk0Q6bjXDnlwfmDVZ5pBlqkAwsIzdwJ5pmJZUq0JpAf7Wdz0D796xkkhlsQf0L7VMpHE4u0YHDrOXhldDUOp0CIiaXYMm6TSbum4jySADxJvmhhytFnkySZtnQB46zXrjxx2eRAOKz7ARWIndyR6DtxwtOJ1lWayn6OTZBTqlQ+F+e1tTfPxmAF2wAAAAASUVORK5CYII='
			},
			'stone': {
				onGreen: true,
				level: 10,
				src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAkUExURf///weMBgxeAih5BkSVClNJOlaoFmq7IYCMZ6KjecS6i9Tcou+Km8EAAAABdFJOUwBA5thmAAABc0lEQVRIx92VPUsEMRCGIyJqGRBriVjYnQ6IWqmsYGkT8Oxd7BUWO0GEUStPROeshb34B87Nn3NmE/EO/GiSK3yLkI9n4c2bSVapcdmgQ/WbUkEzFm8dC6/tBCB7hO7N+8a51/wQG7rzUUP8IYVkUDQU1LjsUJf8iOjRTghqHDeu/i6FVFCopHC6rfw75YMk7gGNQtzPBbWVRC+e+p+GGoHMUi6INyyGuHWOaRYnMn5Fs0CIGCA+YOqZHJA9drLWl21zJ8TNnojoK4WEUFesxNOtW2hA7Kw4QHqA5JBZsRHykoKYY6hnYBPpqYJOSqjYM1prhuK1bJxANU+gWQa8aj2lg9Q06MWSUxBPQ3EG246eUS8UsKaj64SQUnSv1ZTmiMXKDZlVKvZteYrlyUj5poPUbBWeA84C1g3vnP/CXEywRcVOBkip6rwAAJ6CVsWunIEMO1kgWeHxPHG9VhcEG6V8eQZjz2E6KGoO8VL9pXTQf9MHtK3Wuz1z4yEAAAAASUVORK5CYII='
			},
			'road': {
				level: 1,
				src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIAgMAAAAog1vUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAMUExURW5SHHthNoxqNZV5STvuEgoAAAEvSURBVDjLldKxbcMwFEVRyYBqV14iU2gEFX4UwEY9l1CW4AgEzM+CI3AKLuFeDQH6pZCS+qc9xa3uwFa6FR6QANgCzIOWPLCzecnsQGpeSRF7h+uAyezLF1mVBDg2L8HF5fGcHPlWUsScSFjhgZVV5FtJbAIgHXjemViHCXoiK2yJ1gMOG5VkgiPrLbMvD8mUrKb8HjGzlW5L3/gJ0BOws5VoxYg3Z0tB6+HYSsTOA5Ip4pUkmREArpM6oCRsHK1E7OdJbF5Joy2Jla2cJz3vVBIPJFY2f56ETUvXENN1EuCUdA2xXSeZ8A+6Zfatnie9Ji2NmE3mJzi20pcB2JUE7N3K684ImAA2UdKV2DhaYRMeUNJvoiRW8o3loaS/RGI1AbdMJV2JjSZgbX5tXkc/rWcbc/h74PEAAAAASUVORK5CYII='
			},
			'water': {
				level: 1,
				src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIAgMAAAAog1vUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAMUExURQtnzSF94zaS+F6y+vfMQRMAAAERSURBVDjLndSxbcQwDAXQ7wBq0mueaAQXpg1cc72WSJZwf40A+7vwCMkSXiL9NcKdmYJOgnS8qCJeQVKUQADg+gE7z+MR+Ej1fxRVN4uaE6V1U8gk5xZA1MpF1UmDbgB6clEVSQCcpPUNQCP5pxUn3dsj6EuyKztpwl8K2Umz5QrCi82aTuo5diGTNGrO6qTmRHLsEI2eSnISQp4lAWBJAPoLvIQXu8BQx0ayxT6Ku5Vf1V7LTRiuCcBQyXV7jOoIgEVITg+RfspZ7y0Qju69VMdB9QYA0eblopD3koDY/X4pF/V8t8LTkZdOmuXVaG6BIMtVnAREFgEiSVXdS3ITmrOS7BC/t4OXEDKL2Gro4KQvY49/wliRwr8AAAAASUVORK5CYII='
			},
			'bridge-vertical': {
				level: 1,
				src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM2MUQ2NDU5MzQ3QjExRTQ5NTRBQzlCQ0U0MUM3MDE5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM2MUQ2NDVBMzQ3QjExRTQ5NTRBQzlCQ0U0MUM3MDE5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QzYxRDY0NTczNDdCMTFFNDk1NEFDOUJDRTQxQzcwMTkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QzYxRDY0NTgzNDdCMTFFNDk1NEFDOUJDRTQxQzcwMTkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7q9gQ7AAAAD1BMVEUvEwBqQACEVQ+1diDcn0Wl0ZW+AAAAf0lEQVRIx2NgYBQUFGBQwgEgsgxUVMSkpKSAWxFYlpqKmI2NDRiUlI2xACMliCw1FbG4uDiAFLlgAJAisOxQVwQMWcwQAIU1bRQN78AcjbtRRaNJZTTEqaYIUg/hCnHkqox6inC6ieqKIFU+LkUo7QJqKsJe5VNdEZ1bYnRVBAAo98GAY3zn/AAAAABJRU5ErkJggg=='
			},
			'bridge-horizontal': {
				level: 1,
				src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjJDOTQ2QkE4Mzc5NjExRTQ5MTgzOUVCNEI2QTZBRjIwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjJDOTQ2QkE5Mzc5NjExRTQ5MTgzOUVCNEI2QTZBRjIwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MkM5NDZCQTYzNzk2MTFFNDkxODM5RUI0QjZBNkFGMjAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MkM5NDZCQTczNzk2MTFFNDkxODM5RUI0QjZBNkFGMjAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6ZkXiwAAAAD1BMVEUvEwC1diCEVQ9qQADcn0VpQPFOAAAAlklEQVRIx+2V0QmAMAxEixtEHUCvLqBOoLj/TKZN/bPqxyEivY9QjgcJCfQcOnejCo4HzROk3bJaBH5mQqNcQ9KQIe2alU7MhR6IDE3QsYCjAsGx6tmQvnqRGmG/K2zPGGKNPhfS3uHAi9g5DbKTm69AgQpUoAJ9F4pfJ07lU3IQoZ+n+RFFuQxOg7MgDaFLpeQkQe9qB8pJwYD6JEoNAAAAAElFTkSuQmCC'
			}
		},
		forest: {
			pathResistance: 2,
			defence: 2,
			className: 'forest'
		},
		green: {
			pathResistance: 1,
			defence: 1,
			className: 'green'
		},
		hill: {
			pathResistance: 2,
			defence: 2,
			className: 'hill'
		},
		road: {
			pathResistance: 0.8,
			defence: 0,
			className: 'road'
		},
		stone: {
			pathResistance: 3,
			defence: 3,
			className: 'stone'
		},
		water: {
			pathResistance: 2,
			defence: 0,
			specialPathResistance: 0.5,
			specialDefence: 2,
			className: 'water'
		},
		'bridge-vertical': {
			pathResistance: 1,
			defence: 0,
			className: 'bridge-vertical'
		},
		'bridge-horizontal': {
			pathResistance: 1,
			defence: 0,
			className: 'bridge-horizontal'
		},
		moneyFrom: {
			farm: 30,
			castle: 50
		},
		healthFrom: {
			farm: 2,
			castle: 3
		},
		default: {
			gold: 300
		},
		defence: {
			farm: 3,
			castle: 4
		},
		getSquareByXY: function (map, x, y) {
			return map.terrain['x' + x + 'y' + y];
		},
		initImages: function () {

			// init angles

			var angle = this.tile.angle,
				tilesList = this.terrainTypes,
				key;

			for (key in angle) {
				if ( angle.hasOwnProperty(key) ) {
					angle[key].img = new Image();
					angle[key].img.src = angle[key].src;
				}
			}

			tilesList.forEach(function (type) {
				this.tile[type].img = new Image();
				this.tile[type].img.src = this.tile[type].src;
			}, this);

		}

	};

	APP.map.initImages();

}(window));